# only code requiring console input should go above here
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# zsh
export ZSH="$HOME/.oh-my-zsh"
COMPLETION_WAITING_DOTS="true"
plugins=(
  git
  poetry
  )
source $ZSH/oh-my-zsh.sh

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh

# new ls just dropped
alias ls="lsd"
# good grep
PATH="/opt/homebrew/opt/grep/libexec/gnubin:$PATH"

# cd shortcuts
cdw () { cd "$HOME"/w || exit; }
cdp () { cd "$HOME"/p || exit; }
cdr () { cd "$(git rev-parse --show-toplevel)" || exit; }

# keybinds
bindkey "^[[1;3C" forward-word      # ⌥ + ←
bindkey "^[[1;3D" backward-word     # ⌥ + →
bindkey "^[[1;9D" beginning-of-line # ⌘ + ←
bindkey "^[[1;9C" end-of-line       # ⌘ + →

# Python
# pipx
export PATH="$PATH:/Users/tk/.local/bin"
# pyenv
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"

# external zsh plugins must be at end of file
source $(brew --prefix)/share/powerlevel10k/powerlevel10k.zsh-theme
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh
